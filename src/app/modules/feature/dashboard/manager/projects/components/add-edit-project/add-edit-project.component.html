<app-page-header
  [pageTitle]="pageId ? 'Edit project' : 'Add new project'"
  navigateBackText="View all projects"
  (navigateBackEvent)="navigateToProjectsList()"
></app-page-header>

<div class="card mx-auto p-5 m-5 col-8">
  <div class="dard-body">
    <form
      [formGroup]="addNewProjectForm"
      (ngSubmit)="onSubmit(addNewProjectForm)"
    >
      <div class="py-2">
        <mat-label>Title</mat-label>
        <mat-form-field
          appearance="outline"
          floatLabel="always"
          class="example-form-field w-100"
        >
          <input
            formControlName="title"
            matInput
            type="text"
            placeholder="Enter project title"
          />

          <mat-error
            *ngIf="
              addNewProjectForm.controls.title.touched &&
              addNewProjectForm.controls.title.errors
            "
          >
            <ng-container
              [ngSwitch]="addNewProjectForm.controls.title | processFormErrors"
            >
              <ng-container *ngSwitchCase="'required'"
                >Title is required</ng-container
              >
            </ng-container>
          </mat-error>
        </mat-form-field>
      </div>
      <div class="py-2">
        <mat-label>Description</mat-label>
        <mat-form-field
          class="example-full-width w-100"
          appearance="outline"
          floatLabel="always"
        >
          <textarea
            rows="3"
            formControlName="description"
            matInput
            placeholder="Enter project description"
          ></textarea>

          <mat-error
            *ngIf="
              addNewProjectForm.controls.description.touched &&
              addNewProjectForm.controls.description.errors
            "
          >
            <ng-container
              [ngSwitch]="
                addNewProjectForm.controls.description | processFormErrors
              "
            >
              <ng-container *ngSwitchCase="'required'"
                >Description is required</ng-container
              >
            </ng-container>
          </mat-error>
        </mat-form-field>
      </div>
      <div class="buttons d-flex justify-content-between py-2">
        <button type="reset" class="rounded-5 p-2 bttn">Cancel</button>
        <button type="submit" class="rounded-5 p-2 bttn-save">Save</button>
      </div>
    </form>
  </div>
</div>
