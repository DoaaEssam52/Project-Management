<h2 class="text-accent">Login</h2>

<form [formGroup]="loginForm">
  <!-- Email Field -->
  <mat-form-field class="w-100" appearance="fill" floatLabel="always">
    <mat-label>Email</mat-label>
    <input
      type="email"
      formControlName="email"
      matInput
      placeholder="Enter your Email"
      [errorStateMatcher]="matcher"
    />
    <div
      *ngIf="
        loginForm.controls.email.touched && loginForm.controls.email.errors
      "
    >
      <ng-container [ngSwitch]="loginForm.controls.email | processFormErrors">
        <mat-error *ngSwitchCase="'required'">{{
          AuthErrorMessages.email.required
        }}</mat-error>
        <mat-error *ngSwitchCase="'email'">{{
          AuthErrorMessages.email.pattern
        }}</mat-error>
      </ng-container>
    </div>
  </mat-form-field>

  <!-- Code Field -->
  <mat-form-field class="w-100" appearance="fill" floatLabel="always">
    <mat-label>New Password</mat-label>
    <input
    [type]="hide ? 'password' : 'text'"
    formControlName="password"
      matInput
      placeholder="Enter Your Password"
    />
    <mat-icon matSuffix (click)="hide = !hide">{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
    <div
      *ngIf="
        loginForm.controls.password.touched && loginForm.controls.password.errors
      "
    >
      <ng-container [ngSwitch]="loginForm.controls.password | processFormErrors">
        <mat-error *ngSwitchCase="'required'">{{
          AuthErrorMessages.password.required
        }}</mat-error>
        <mat-error *ngSwitchCase="'pattern'">{{
          AuthErrorMessages.password.pattern
        }}</mat-error>
      </ng-container>
    </div>
</mat-form-field>

  <!-- Submit Button -->
  <div class="text-center mt-4">
    <button
      mat-fab
      extended
      color="accent"
      class="text-white w-100"
      (click)="submit()"
    >
      Log In
    </button>
  </div>
</form>
